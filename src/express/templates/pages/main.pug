extends ../layout

block content
  .wrapper
    header.header
      a.header__logo.logo(href='/')
        img.logo__image(src='/img/icons/logo-image-only.svg' alt='–ª–æ–≥–æ—Ç–∏–ø –¢–∞–π–ø–æ—Ç–µ–∫–∏')
        span.logo__name –¢–∏–ø–æ—Ç–µ–∫–∞
      if isAuth && isAdmin
        include ../partials/header-admin
      else if isAuth
        include ../partials/header-user
      else
        include ../partials/header-login
      a.header__search.button.button--search(href='/search' aria-label='–ø–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É')
    main.main-page
      h1.visually-hidden –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –±–ª–æ–≥–∞ –¢–∏–ø–æ—Ç–µ–∫–∞
      p.
        –≠—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –±–ª–æ–≥–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è üëè
      section.main-page__theme-list
        h2.visually-hidden –°–ø–∏—Å–æ–∫ —Ç–µ–º
        ul.themes
          each category in categories
            if category.count > 0
              li.themes__item
                a.themes__item-link(href='/articles/category/' + category.id)
                  | #{category.name}
                  sup  #{category.count}
      .main-page__section-flex
        section.main-page__hot.hot
          if articlesTop.length > 0
            h2.hot__name –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ
              |
              |
              span.hot__icon.hot__icon--fire
            ul.hot__list
              each articleTop in articlesTop
                li.hot__list-item
                  a.hot__list-link(href='/articles/' + articleTop.id)
                    | #{articleTop.announce}
                    sup.hot__link-sup #{articleTop.commentCount}
          else
            h2.hot__name.hot__name--empty –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ
              |
              |
              span.hot__icon.hot__icon--fire
            p.hot__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
        section.main-page__last.last
          h2.last__name –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
              |
              |
              span.last__icon.last__icon--cloud
          if lastComments.length > 0
            ul.last__list
              each comment in lastComments
                li.last__list-item
                  +getUserAvatar(comment.users, 'last__list-image', 20, 20)
                  b.last__list-name
                    +getUserName(comment.users)
                  a.last__list-link(href='/articles/' + comment.articleId) #{comment.text}
          else
            p.last__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
      section.main-page__list.preview
        include ../partials/articles-preview
      +pagination(page, totalPages, 1)
    footer.footer
      include ../partials/footer

block scripts
  script(src='/js/main.js')
